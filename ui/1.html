<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700;800;900&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="1.css">
  <script src="1.js" type="module"></script>
  <title>åœ°çƒOnlineçœ‹æ¿</title>
</head>

<body>
  <!-- é¡¶éƒ¨å¯¼èˆªåŒº -->
  <header class="header">
    <div class="logo">åœ°çƒOnline</div>
    <div class="user-info">
      <span class="time">å½“å‰æ—¶é—´: 2025-04-04 11:19:08</span>
      <span class="username">ç©å®¶åç§°: åœ°çƒç©å®¶001</span>
    </div>
  </header>

  <!-- ä¸»è¦å†…å®¹åŒº -->
  <div class="main-content">
    <!-- å·¦ä¾§æ•°æ®å±•ç¤ºåŒº -->
    <main class="main">
      <div class="data-display">
        <div class="data-columns">
          <div class="category physiological">
            <h3>ç”Ÿç†éœ€æ±‚ ğŸ½ï¸</h3>
            <div class="metrics">
              <div class="metric" data-type="hunger">
                <span class="label">é¥±è…¹åº¦ ğŸš</span>
                <progress value="0" max="100"></progress>
                <span class="value">0%</span>
              </div>
              <div class="metric" data-type="thirst">
                <span class="label">å£æ¸´åº¦ ğŸ’§</span>
                <progress value="0" max="100"></progress>
                <span class="value">0%</span>
              </div>
              <div class="metric" data-type="toilet">
                <span class="label">å¦‚å•éœ€æ±‚ ğŸš½</span>
                <progress value="0" max="100"></progress>
                <span class="value">0%</span>
              </div>
              <div class="metric" data-type="social">
                <span class="label">ç¤¾äº¤éœ€æ±‚ ğŸ‘¥</span>
                <progress value="0" max="100"></progress>
                <span class="value">0%</span>
              </div>
              <div class="metric" data-type="fatigue">
                <span class="label">ç–²æƒ«åº¦ ğŸ˜´</span>
                <progress value="0" max="100"></progress>
                <span class="value">0%</span>
              </div>
              <div class="metric" data-type="hygiene">
                <span class="label">å«ç”ŸçŠ¶å†µ ğŸ§¼</span>
                <progress value="0" max="100"></progress>
                <span class="value">0%</span>
              </div>
            </div>
          </div>

          <div class="category mental">
            <h3>èº«å¿ƒçŠ¶å†µ ğŸ§ </h3>
            <div class="metrics">
              <div class="metric" data-type="fitness">
                <span class="label">ç˜¦èº«æŒ‡æ•° ğŸ’ª</span>
                <progress value="0" max="100"></progress>
                <span class="value">0%</span>
              </div>
              <div class="metric" data-type="happiness">
                <span class="label">å¹¸ç¦æ„Ÿ ğŸ˜Š</span>
                <progress value="0" max="100"></progress>
                <span class="value">0%</span>
              </div>
              <div class="metric" data-type="achievement">
                <span class="label">æˆå°±æ„Ÿ ğŸ†</span>
                <progress value="0" max="100"></progress>
                <span class="value">0%</span>
              </div>
              <div class="metric" data-type="eyeFatigue">
                <span class="label">è§†ç–²åŠ³ ğŸ‘€</span>
                <progress value="0" max="100"></progress>
                <span class="value">0%</span>
              </div>
              <div class="metric" data-type="sleepQuality">
                <span class="label">ç¡çœ è´¨é‡ ğŸŒ™</span>
                <progress value="0" max="100"></progress>
                <span class="value">0%</span>
              </div>
              <div class="metric" data-type="heartHealth">
                <span class="label">å¿ƒè„å¥åº·åº¦ â¤ï¸</span>
                <progress value="0" max="100"></progress>
                <span class="value">0%</span>
              </div>
            </div>
          </div>

          <div class="category ability">
            <h3>èƒ½åŠ›å±æ€§ âš¡</h3>
            <div class="metrics">
              <div class="metric" data-type="muscle">
                <span class="label">è‚Œè‚‰å¼ºåº¦ ğŸ’ª</span>
                <progress value="0" max="100"></progress>
                <span class="value">0%</span>
              </div>
              <div class="metric" data-type="agility">
                <span class="label">æ•æ·åº¦ ğŸƒ</span>
                <progress value="0" max="100"></progress>
                <span class="value">0%</span>
              </div>
              <div class="metric" data-type="resistance">
                <span class="label">æŠ—å‡»æ‰“èƒ½åŠ› ğŸ›¡ï¸</span>
                <progress value="0" max="100"></progress>
                <span class="value">0%</span>
              </div>
              <div class="metric" data-type="timeControl">
                <span class="label">æ—¶é—´æŒæ§åº¦ â°</span>
                <progress value="0" max="100"></progress>
                <span class="value">0%</span>
              </div>
              <div class="metric" data-type="creativity">
                <span class="label">åˆ›é€ åŠ› ğŸ¨</span>
                <progress value="0" max="100"></progress>
                <span class="value">0%</span>
              </div>
              <div class="metric" data-type="security">
                <span class="label">å®‰å…¨æ„Ÿ ğŸ”’</span>
                <progress value="0" max="100"></progress>
                <span class="value">0%</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- å³ä¾§åˆ†æä¸è®¾ç½®åŒºåŸŸ -->
    <section class="right-sidebar">
      <!-- åˆ†æä¸è®¾ç½®åŒºåŸŸ -->
      <section class="analysis-settings">
        <!-- AIçŠ¶æ€åˆ†æé¢æ¿ -->
        <div class="panel ai-analysis">
          <h2>AIçŠ¶æ€åˆ†æ</h2>
          <button class="gradient-button">AIåˆ†æå½“å‰çŠ¶æ€</button>
          <button class="gradient-button" onclick="window.location.href='/thresholds'">è®¾ç½®é˜ˆå€¼</button>
          <!-- <button>æ”¾å¤§æŸ¥çœ‹</button> -->
          <div class="ai-loading-indicator" id="aiLoadingIndicator" style="display: none;">
            <div class="spinner"></div>
            <p>AIåˆ†æä¸­ï¼Œè¯·ç¨å€™...</p>
          </div>
          <div class="ai-result" id="aiResult">
            <p class="placeholder-text">ç‚¹å‡»"AIåˆ†æå½“å‰çŠ¶æ€"æŒ‰é’®è·å–åˆ†æç»“æœ</p>
          </div>
        </div>
  </div>
  <!-- é˜ˆå€¼æé†’è®¾ç½®é¢æ¿ -->
  <!-- <div class="panel threshold-settings">
          <h2>é˜ˆå€¼æé†’è®¾ç½®</h2>
          <button class="gradient-button">è®¾ç½®é˜ˆå€¼æé†’</button>-->
          <!-- <button>æ”¾å¤§æŸ¥çœ‹</button> -->
  
  </div> 
  </section>

  <!-- AIåˆ†æç»“æœè¾“å‡ºæ¡† -->
  <!-- <div class="ai-output-container">
        <h2>AIåˆ†æç»“æœ</h2>
        <div class="ai-output-content" id="aiOutputContent">
          <div class="ai-loading-indicator" id="aiLoadingIndicator" style="display: none;">
            <div class="spinner"></div>
            <p>AIåˆ†æä¸­ï¼Œè¯·ç¨å€™...</p>
          </div>
          <div class="ai-result" id="aiResult">
            <p class="placeholder-text">ç‚¹å‡»"AIåˆ†æå½“å‰çŠ¶æ€"æŒ‰é’®è·å–åˆ†æç»“æœ</p>
          </div>
        </div>
      </div> -->
  </section>
  </div>

  <!-- åº•éƒ¨åŠŸèƒ½åŒº -->
  <footer class="footer">
    <button>è®¾ç½®</button>
    <button onclick="window.location.href='/event'">äº‹ä»¶</button>
    <button id="syncFromExampleBtn">å¥åº·æ•°æ®åŒæ­¥</button>
    <button onclick="window.location.href='/trends'">è¶‹åŠ¿å›¾</button>
    <button onclick="window.location.href='/weekly-report'">å‘¨æŠ¥</button>
    <button onclick="window.location.href='/monthly-report'">æœˆæŠ¥</button>
    <button class="emphasize-button">é‡ç½®(ä¸‹æ¬¡æ‰“å¼€ç”Ÿæ•ˆ)</button>
    
    <div class="footer">
      <p>Â© 2025 åœ°çƒOnlineçœ‹æ¿ - ä¿æŒå¥åº·ï¼Œäº«å—ç”Ÿæ´»</p>
  </div>
  </footer>

  <!-- ç³»ç»Ÿæ—¥å¿—åŒºåŸŸ -->
  <div class="log">
    <h2>ç³»ç»Ÿæ—¥å¿—</h2>
    <pre id="systemLog">å·²åŠ è½½å†å²æ•°æ®è®°å½•ï¼Œå…±164ä¸ªæ—¶é—´ç‚¹</pre>
  </div>

  <!-- è¯­éŸ³è¯†åˆ«çŠ¶æ€æŒ‡ç¤ºå™¨ -->
  <!-- <div id="voiceStatus" class="voice-status">
    <div class="voice-wave"></div>
    <span>æ­£åœ¨å½•éŸ³...</span>
  </div> -->

  <!-- åŒæ­¥ç¤ºä¾‹æ•°æ®çš„ç»“æœæç¤ºæ¡† -->
  <div id="syncResultModal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h2 id="modalTitle">æ•°æ®åŒæ­¥ç»“æœ</h2>
      <p id="modalMessage"></p>
    </div>
  </div>

  <style>
    /* æ¨¡æ€æ¡†æ ·å¼ */
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.7);
    }
    
    .modal-content {
      background: linear-gradient(135deg, #1a2a6c, #b21f1f);
      margin: 15% auto;
      padding: 20px;
      border-radius: 10px;
      width: 50%;
      max-width: 500px;
      color: white;
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
      text-align: center;
    }
    
    .close {
      color: #aaa;
      float: right;
      font-size: 28px;
      font-weight: bold;
      cursor: pointer;
    }
    
    .close:hover,
    .close:focus {
      color: white;
      text-decoration: none;
    }
  </style>

  <script>
    // æ·»åŠ åŒæ­¥ç¤ºä¾‹æ•°æ®çš„åŠŸèƒ½
    document.addEventListener('DOMContentLoaded', function() {
      const syncBtn = document.getElementById('syncFromExampleBtn');
      const modal = document.getElementById('syncResultModal');
      const modalTitle = document.getElementById('modalTitle');
      const modalMessage = document.getElementById('modalMessage');
      const closeBtn = document.querySelector('.close');
      
      // åŒæ­¥æŒ‰é’®ç‚¹å‡»äº‹ä»¶
      syncBtn.addEventListener('click', function() {
        // æ˜¾ç¤ºæ­£åœ¨åŠ è½½
        modalTitle.textContent = 'æ­£åœ¨åŒæ­¥';
        modalMessage.textContent = 'æ­£åœ¨ä»ç¤ºä¾‹æ•°æ®åŒæ­¥ï¼Œè¯·ç¨å€™...';
        modal.style.display = 'block';
        
        fetch('/api/health/sync', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({
            action: 'sync_from_example'
          })
        })
        .then(response => response.json())
        .then(data => {
          if (data.status === 'success') {
            modalTitle.textContent = 'åŒæ­¥æˆåŠŸ';
            modalMessage.textContent = data.message || 'ç¤ºä¾‹æ•°æ®åŒæ­¥æˆåŠŸï¼';
            modal.style.display = 'block';
            
            // æ›´æ–°é¡µé¢ä¸Šçš„å¥åº·æ•°æ®
            updateHealthDataUI(data.data);
          } else {
            modalTitle.textContent = 'åŒæ­¥å¤±è´¥';
            modalMessage.textContent = data.message || 'åŒæ­¥è¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯';
            modal.style.display = 'block';
          }
        })
        .catch(error => {
          modalTitle.textContent = 'åŒæ­¥é”™è¯¯';
          modalMessage.textContent = 'å‘ç”Ÿé”™è¯¯: ' + error.message;
          modal.style.display = 'block';
        });
      });
      
      // å…³é—­æ¨¡æ€æ¡†
      closeBtn.addEventListener('click', function() {
        modal.style.display = 'none';
      });
      
      // ç‚¹å‡»æ¨¡æ€æ¡†å¤–éƒ¨å…³é—­
      window.addEventListener('click', function(event) {
        if (event.target === modal) {
          modal.style.display = 'none';
        }
      });
      
      // æ›´æ–°UIä¸Šçš„å¥åº·æ•°æ®
      function updateHealthDataUI(healthData) {
        // éå†æ‰€æœ‰æŒ‡æ ‡å¹¶æ›´æ–°UI
        const updateCategory = (category) => {
          for (const [key, value] of Object.entries(healthData[category])) {
            const metricElement = document.querySelector(`.metric[data-type="${key}"]`);
            if (metricElement) {
              const progressBar = metricElement.querySelector('progress');
              const valueSpan = metricElement.querySelector('.value');
              
              if (progressBar && valueSpan) {
                progressBar.value = value;
                valueSpan.textContent = `${Math.round(value)}%`;
              }
            }
          }
        };
        
        // æ›´æ–°å„ç±»åˆ«æ•°æ®
        updateCategory('physiological');
        updateCategory('mental');
        updateCategory('ability');
      }
    });
  </script>

</body>

</html>